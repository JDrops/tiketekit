import{q as V,R as B,H as M,K as D,e as Y,M as p,aB as J,aC as Q,aD as W,aE as X,aF as m,aG as x,aH as ee,aI as re,g as te,aJ as se,Z as H,aK as ae,aL as ie}from"./DZZ4qWxP.js";import{b as fe,c as ue,d as oe,n as le,e as ce}from"./ByJMBxkJ.js";import{t as ne,c as _e,s as ve}from"./BabvQZoL.js";function de(e,t){if(t){const r=document.body;e.autofocus=!0,V(()=>{document.activeElement===r&&e.focus()})}}let U=!1;function be(){U||(U=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function he(e,t){var r=void 0,s;B(()=>{r!==(r=t())&&(s&&(M(s),s=null),r&&(s=D(()=>{Y(()=>r(e))})))})}function C(e,t={},r,s){for(var a in r){var _=r[a];t[a]!==_&&(r[a]==null?e.style.removeProperty(a):e.style.setProperty(a,_,s))}}function ye(e,t,r,s){var a=e.__style;if(p||a!==t){var _=ne(t,s);(!p||_!==e.getAttribute("style"))&&(_==null?e.removeAttribute("style"):e.style.cssText=_),e.__style=t}else s&&(Array.isArray(s)?(C(e,r?.[0],s[0]),C(e,r?.[1],s[1],"important")):C(e,r,s));return s}function O(e,t,r=!1){if(e.multiple){if(t==null)return;if(!J(t))return Q();for(var s of e.options)s.selected=t.includes(K(s));return}for(s of e.options){var a=K(s);if(W(a,t)){s.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function ge(e){var t=new MutationObserver(()=>{O(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),X(()=>{t.disconnect()})}function K(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),T=Symbol("style"),j=Symbol("is custom element"),q=Symbol("is html");function pe(e){if(p){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;L(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var a=e.checked;L(e,"checked",null),e.checked=a}}};e.__on_r=r,V(r),be()}}function Ae(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,t,r,s){var a=F(e);p&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="loading"&&(e[ie]=r),r==null?e.removeAttribute(t):typeof r!="string"&&G(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ee(e,t,r,s,a=!1,_=!1){if(p&&a&&e.tagName==="INPUT"){var b=e,k=b.type==="checkbox"?"defaultChecked":"defaultValue";k in r||pe(b)}var h=F(e),v=h[j],y=!h[q];let A=p&&v;A&&H(!1);var u=t||{},E=e.tagName==="OPTION";for(var d in t)d in r||(r[d]=null);r.class?r.class=_e(r.class):r[S]&&(r.class=null),r[T]&&(r.style??=null);var I=G(e);for(const i in r){let f=r[i];if(E&&i==="value"&&f==null){e.value=e.__value="",u[i]=f;continue}if(i==="class"){var N=e.namespaceURI==="http://www.w3.org/1999/xhtml";ve(e,N,f,s,t?.[S],r[S]),u[i]=f,u[S]=r[S];continue}if(i==="style"){ye(e,f,t?.[T],r[T]),u[i]=f,u[T]=r[T];continue}var c=u[i];if(!(f===c&&!(f===void 0&&e.hasAttribute(i)))){u[i]=f;var P=i[0]+i[1];if(P!=="$$")if(P==="on"){const n={},g="$$"+i;let o=i.slice(2);var w=ce(o);if(fe(o)&&(o=o.slice(0,-7),n.capture=!0),!w&&c){if(f!=null)continue;e.removeEventListener(o,u[g],n),u[g]=null}if(f!=null)if(w)e[`__${o}`]=f,oe([o]);else{let Z=function(z){u[i].call(this,z)};u[g]=ue(o,e,Z,n)}else w&&(e[`__${o}`]=void 0)}else if(i==="style")L(e,i,f);else if(i==="autofocus")de(e,!!f);else if(!v&&(i==="__value"||i==="value"&&f!=null))e.value=e.__value=f;else if(i==="selected"&&E)Ae(e,f);else{var l=i;y||(l=le(l));var $=l==="defaultValue"||l==="defaultChecked";if(f==null&&!v&&!$)if(h[i]=null,l==="value"||l==="checked"){let n=e;const g=t===void 0;if(l==="value"){let o=n.defaultValue;n.removeAttribute(l),n.defaultValue=o,n.value=n.__value=g?o:null}else{let o=n.defaultChecked;n.removeAttribute(l),n.defaultChecked=o,n.checked=g?o:!1}}else e.removeAttribute(i);else $||I.includes(l)&&(v||typeof f!="string")?(e[l]=f,l in h&&(h[l]=ae)):typeof f!="function"&&L(e,l,f)}}}return A&&H(!0),u}function Ie(e,t,r=[],s=[],a=[],_,b=!1,k=!1){re(a,r,s,h=>{var v=void 0,y={},A=e.nodeName==="SELECT",u=!1;if(B(()=>{var d=t(...h.map(te)),I=Ee(e,v,d,_,b,k);u&&A&&"value"in d&&O(e,d.value);for(let c of Object.getOwnPropertySymbols(y))d[c]||M(y[c]);for(let c of Object.getOwnPropertySymbols(d)){var N=d[c];c.description===se&&(!v||N!==v[c])&&(y[c]&&M(y[c]),y[c]=D(()=>he(e,()=>N))),I[c]=N}v=I}),A){var E=e;Y(()=>{O(E,v.value,!0),ge(E)})}u=!0})}function F(e){return e.__attributes??={[j]:e.nodeName.includes("-"),[q]:e.namespaceURI===m}}var R=new Map;function G(e){var t=e.getAttribute("is")||e.nodeName,r=R.get(t);if(r)return r;R.set(t,r=[]);for(var s,a=e,_=Element.prototype;_!==a;){s=ee(a);for(var b in s)s[b].set&&r.push(b);a=x(a)}return r}export{Ie as a,L as s};
